
    var flaredata = {"ditems":
    [
        {"type":"ditem","name":"John Fife","description":"Reverend John Fife<\/a> was instrumental in co-founding the Sanctuary<\/a> movement. He is also active in humanitarian work along the US\/Mexico border through Humane Borders<\/a>.","episode":1,"date":"2012-05-05 23:50:11","slug":"episode-one-reverend-john-fife","links":["Class","Collapse","Community","Economy","Environment","Equality","Government","Race","Spirituality","Biocentric","Centralized","Collectivist","Dualist","Objectivist","Psychological Continuity"]},
        {"type":"ditem","name":"Max More","description":"Max More<\/a> is the CEO of the Alcor Life Extension Foundation<\/a> and founder of the magazine Extropy<\/em><\/a>. He also coined the term transhumanist<\/a>.","episode":2,"date":"2012-05-09 15:53:27","slug":"episode-two-dr-max-more","links":["Economy","Environment","Government","Law","Population","Sci\/Tech","Spirituality","Anthropocentric","Extrinsic","Individualist","Localized","Objectivist","Physicalist","Psychological Continuity"]},
        {"type":"ditem","name":"Peter Warren","description":"Peter Warren works for The Nature Conservancy<\/a> and has been closely involved in an unlikely conversation that brought together ranchers and environmentalists to manage over 75,000 acres of grassland in Arizona<\/a>.","episode":3,"date":"2012-05-14 01:10:12","slug":"episode-three-peter-warren","links":["Agriculture","Community","Economy","Environment","Government","Anthropocentric"]},
        {"type":"ditem","name":"Colin Camerer","description":"Colin Camerer<\/a> is one of the pioneers of neuroeconomics<\/a>, a combination of neuroscience, psychology, and economic theory.","episode":4,"date":"2012-05-20 15:39:43","slug":"episode-four-dr-colin-camerer","links":["Community","Economy","Education","Environment","Equality","Happiness","Sci\/Tech","Anthropocentric","Physicalist","Subjectivist"]},
        {"type":"ditem","name":"Andrew Keen","description":"Andrew Keen<\/a>, the self-professed Anti-Christ of Silicon Valley<\/a>, is the author of The Cult of the Amateur<\/em><\/a> and, more recently, Digital Vertigo: How Today's Online Social Revolution is Dividing, Diminishing, and Disorienting Us<\/em><\/a>.","episode":5,"date":"2012-05-24 10:32:01","slug":"episode-five-andrew-keen","links":["Community","Economy","Education","Equality","Happiness","Media","Sci\/Tech","Anthropocentric","Biological Continuity","Collectivist"]},
        {"type":"ditem","name":"Jan Lundberg","description":"Jan Lundberg is a former oil industry analyst for Lundberg Survey<\/a> and is currently an environmental activist and advocate of depaving. He is the founder of Culture Change<\/a> and the Sail Transport Network<\/a>.","episode":6,"date":"2012-05-27 16:57:17","slug":"episode-six-jan-lundberg","links":["Agriculture","Collapse","Community","Economy","Environment","Population","Sci\/Tech","Spirituality","Biocentric","Biological Continuity","Collectivist","Dualist","Free Will","Intrinsic","Localized","Objectivist"]},
        {"type":"ditem","name":"Alexander Rose","description":"Alexander Rose<\/a> is the Executive Director of the Long Now Foundation<\/a>, a San Francisco-based group dedicated to encouraging long-term thinking. He is also overseeing the design and construction of a monument-scale clock<\/a> intended to run for 10,000 years.","episode":7,"date":"2012-05-30 17:13:06","slug":"episode-seven-alexander-rose","links":["Collapse","Economy","Environment","Population","Sci\/Tech","Time","Anthropocentric"]},
        {"type":"ditem","name":"Chris McKay","description":"Chris McKay<\/a> is a planetary scientist at NASA's Ames Research Center<\/a>. His work focuses on the search for microbial life within the solar system and he is active in discussions of bioethics, Mars colonization, and terraforming.","episode":8,"date":"2012-06-04 23:02:41","slug":"episode-eight-dr-chris-mckay","links":["Environment","Population","Sci\/Tech","Time","Anthropocentric","Extrinsic","Objectivist","Physicalist"]},
        {"type":"ditem","name":"Timothy Morton","description":"Timothy Morton is a philosopher, dark ecologist, professor of English, and author of Ecology Without Nature<\/em><\/a> and The Ecological Thought<\/em><\/a>.","episode":10,"date":"2012-06-11 15:03:52","slug":"episode-ten-dr-timothy-morton","links":["Collapse","Community","Environment","Mythology","Sci\/Tech","Spirituality","Time","Dualist","Intrinsic","Subjectivist"]},
        {"type":"ditem","name":"Lisa Petrides","description":"Lisa Petrides<\/a> is the founder of ISKME<\/a>, the Institute for the Study of Knowledge Management in Education, a research group dedicated to studying current educational systems and encouraging innovation. ","episode":11,"date":"2012-06-18 20:11:47","slug":"episode-eleven-dr-lisa-petrides","links":["Community","Education","Environment","Equality","Sci\/Tech","Anthropocentric","Collectivist"]},
        {"type":"ditem","name":"Gabriel Stempinski","description":"Gabriel Stempinski is an evangelist of the new sharing economy, author<\/a>, documentary producer<\/a>, and San Francisco city ambassador for CouchSurfing<\/a>.","episode":12,"date":"2012-06-25 14:16:37","slug":"episode-twelve-gabriel-stempinski","links":["Community","Economy","Environment","Media","Population","Sci\/Tech","Time","Anthropocentric","Collectivist","Localized"]},
        {"type":"ditem","name":"Ariel Waldman","description":"Ariel Waldman<\/a> is the founder of Spacehack.org<\/a>, a website that democratizes space exploration. Previously she worked in social outreach for NASA.","episode":13,"date":"2012-07-04 18:53:18","slug":"episode-thirteen-ariel-waldman","links":["Equality","Happiness","Sci\/Tech","Anthropocentric","Individualist","Objectivist","Physicalist"]},
        {"type":"ditem","name":"John Zerzan","description":"John Zerzan<\/a> is an anarchist and primitivist writer and speaker<\/a>. His books include Against Civilization<\/a><\/em> and Elements of Refusal<\/a><\/em>.","episode":14,"date":"2012-07-10 14:30:32","slug":"episode-fourteen-john-zerzan","links":["Agriculture","Collapse","Community","Environment","Equality","Health","Population","Sci\/Tech","Spirituality","Biocentric","Biological Continuity","Dualist","Free Will","Intrinsic","Localized","Objectivist"]},
        {"type":"ditem","name":"Cameron Whitten","description":"Cameron Whitten<\/a> is, in his own words, a \"shameless agitator\" from Portland, Oregon. He became politically active during Occupy Portland and, at twenty, made a bid to become the mayor of the Rose City with endorsements from the Green Party and Oregon Progressive Party.","episode":15,"date":"2012-07-15 17:37:08","slug":"episode-fifteen-cameron-whitten","links":["Community","Economy","Environment","Equality","Government","Media","Population","Race","Sci\/Tech","Anthropocentric","Collectivist","Dualist","Free Will","Subjectivist"]},
        {"type":"ditem","name":"Laura Musikanski","description":"Laura Musikanski is the co-founder of The Happiness Initiative<\/a>, a group that applies insights from Bhutan's Gross Domestic Happiness<\/a> project to the American economy. Formerly, she was Executive Director of Sustainable Seattle<\/a>.","episode":17,"date":"2012-07-24 00:19:14","slug":"episode-seventeen-laura-musikanski","links":["Class","Collapse","Community","Economy","Environment","Government","Happiness","Population","Anthropocentric","Centralized","Dualist","Free Will","Objectivist"]},
        {"type":"ditem","name":"David Korten","description":"David Korten<\/a> is president of the Living Economy Forum<\/a>, co-chair of the New Economy Working Group<\/a>, co-founder of YES! Magazine<\/em><\/a>, and a member of the Club of Rome<\/a>. His books include When Corporations Rule the World<\/em><\/a> and The Great Turning: From Empire to Earth Community<\/em><\/a>.","episode":18,"date":"2012-07-31 11:47:42","slug":"episode-eighteen-david-korten","links":["Collapse","Community","Economy","Environment","Happiness","Mythology","Population","Sci\/Tech","Spirituality","Biocentric","Collectivist","Dualist","Free Will","Localized"]},
        {"type":"ditem","name":"Joseph Tainter","description":"Joseph Tainter<\/a> is an anthropologist and historian who studies collapse in ancient civilizations and has written The Collapse of Complex Societies<\/em><\/a>.","episode":19,"date":"2012-08-07 22:33:37","slug":"episode-nineteen-joseph-tainter","links":["Collapse","Economy","Environment","Government","Happiness","Sci\/Tech","Anthropocentric","Determinism","Objectivist","Physicalist"]},
        {"type":"ditem","name":"David Miller","description":"David Miller<\/a> was the architect of Wyoming's House Bill 85<\/a>, the so-called \"Doomsday Bill,\"<\/a> which developed the state's response to a collapse of the Federal Government. He is also CEO of Strathmore Minerals<\/a>.","episode":20,"date":"2012-08-11 16:40:08","slug":"episode-twenty-david-miller","links":["Economy","Environment","Government","Law","Population","Time","Anthropocentric","Extrinsic","Free Will","Individualist","Localized","Objectivist"]},
        {"type":"ditem","name":"Robert Zubrin","description":"Robert Zubrin<\/a> is the president of The Mars Society<\/a>, a nonprofit organization dedicated to advancing the exploration and colonization of Mars. He is also the author of The Case for Mars<\/em><\/a> and Merchants of Despair<\/em><\/a>.","episode":21,"date":"2012-08-18 11:23:03","slug":"episode-twenty-one-robert-zubrin","links":["Class","Environment","Happiness","Media","Population","Race","Sci\/Tech","Anthropocentric","Biological Continuity","Extrinsic","Free Will","Individualist","Localized","Objectivist","Physicalist"]},
        {"type":"ditem","name":"Wes Jackson","description":"Wes Jackson<\/a> is the founder and director of The Land Institute<\/a> where he has spent almost 40 years developing a new form of agriculture that mimics natural ecosystems.","episode":22,"date":"2012-08-23 13:37:21","slug":"episode-twenty-two-wes-jackson","links":["Agriculture","Collapse","Environment","Mythology","Population","Sci\/Tech","Biological Continuity","Centralized","Collectivist","Dualist","Free Will","Objectivist"]},
        {"type":"ditem","name":"Carolyn Raffensperger","description":"Carolyn Raffensperger<\/a>, is the executive director of the Science and Environmental Health Network<\/a>. She is well known for her work on the precautionary principle, but her thought ranges across a wide variety of questions that address the relationship between law and the environment<\/a>.","episode":23,"date":"2012-09-02 09:29:19","slug":"episode-twenty-three-carolyn-raffensperger","links":["Community","Environment","Government","Health","Law","Sci\/Tech","Spirituality","Biocentric","Biological Continuity","Centralized","Collectivist","Dualist","Free Will","Intrinsic","Subjectivist"]},
        {"type":"ditem","name":"Frances Whitehead","description":"Frances Whitehead<\/a> is an artist, designer, planner, environmental thinker, civic actor, dot-connector, collaborator, and generally difficult person to pigeonhole. She is also a professor at the School of the Art Institute of Chicago<\/a>, where she founded the Knowledge Lab<\/a>.","episode":25,"date":"2012-09-14 12:34:28","slug":"episode-25-frances-whitehead","links":["Agriculture","Art","Environment","Government","Happiness","Mythology","Sci\/Tech","Biocentric","Centralized","Dualist","Free Will","Intrinsic","Localized","Subjectivist"]},
        {"type":"ditem","name":"Jenny Lee","description":"Jenny Lee is a co-director of Allied Media Projects<\/a>, a Detroit organization focused on the intersection of media and social justice. AMP sponsors the annual Allied Media Conference<\/a>.","episode":26,"date":"2012-09-21 11:09:19","slug":"episode-26-jenny-lee","links":["Class","Community","Equality","Gender","Media","Mythology","Race","Anthropocentric","Collectivist","Localized","Subjectivist"]},{"type":"episode","name":"Patrick Crouch","description":"Patrick Crouch is the Program Manager at the Earthworks Urban Farm<\/a> in Detroit, Michigan. The farm is a project of the Capuchin Soup Kitchen<\/a> and is the only certified organic farm in the city.","episode":27,"date":"2012-09-26 19:30:44","slug":"episode-27-patrick-crouch","links":["Agriculture","Class","Community","Economy","Environment","Sci\/Tech","Spirituality","Anthropocentric","Collectivist","Localized","Physicalist"]},
        {"type":"ditem","name":"Tim Cannon","description":"Tim Cannon is a co-founder of Grindhouse Wetware<\/a>, a group of open-source biohackers<\/a> in Pittsburg, Pennsylvania.","episode":28,"date":"2012-10-03 13:36:18","slug":"episode-28-tim-cannon","links":["Collapse","Happiness","Sci\/Tech","Spirituality","Anthropocentric","Determinism","Extrinsic","Individualist","Localized","Physicalist","Psychological Continuity","Subjectivist"]},{"type":"episode","name":"Lawrence Torcello","description":"Lawrence Torcello<\/a> is a philosopher focusing on ethics, politics, and the environment. He is especially interested in the problem of embracing pluralism while rejecting moral relativism. ","episode":29,"date":"2012-10-15 22:23:58","slug":"episode-29-lawrence-torcello","links":["Education","Equality","Government","Law","Anthropocentric","Psychological Continuity","Subjectivist"]},
        {"type":"ditem","name":"Henry Louis Taylor, Jr.","description":"Henry Louis Taylor, Jr.<\/a> is the Director for the Center for Urban Studies<\/a> at the University of Buffalo and the Project Coordinator<\/a> for the Perry Choice Neighborhood Initiative<\/a>. His work has looked at urban planning, regional development, and history in the United States and Cuba<\/a>.","episode":30,"date":"2012-10-22 15:25:21","slug":"episode-30-henry-louis-taylor-jr","links":["Class","Community","Education","Environment","Equality","Government","Mythology","Race","Anthropocentric","Centralized","Collectivist","Objectivist","Physicalist","Subjectivist"]},
        {"type":"ditem","name":"Claire Evans","description":"Claire Evans<\/a> is half of YACHT<\/a>, a \"band, business, and belief system\" started by Jona Bechtolt<\/a> in 2002. Unlike most bands, YACHT has a developed a public philosophy<\/a>. In addition to her musical\/artistic adventures, she's also a writer and science blogger<\/a>. ","episode":31,"date":"2012-10-30 09:32:50","slug":"episode-31-claire-evans","links":["Art","Collapse","Community","Mythology","Sci\/Tech","Dualist","Subjectivist"]},
        {"type":"ditem","name":"Priscilla Grim","description":"Priscilla Grim<\/a> is one of Occupy Wall Street's<\/a> organizers, co-founder of the website We Are the 99 Percent<\/em><\/a>, and co-editor of The Occupied Wall Street Journal<\/em><\/a>.","episode":33,"date":"2012-11-10 08:40:50","slug":"episode-33-priscilla-grim","links":["Community","Economy","Environment","Equality","Government","Media","Population","Anthropocentric","Collectivist","Extrinsic","Free Will","Objectivist","Physicalist"]},
        {"type":"ditem","name":"Douglas Rushkoff","description":"Douglas Rushkoff<\/a> is a media theorist, author, and documentarian, among other things. His books include Life, Inc.<\/em><\/a> and Program or be Programmed<\/em><\/a>. His documentaries include Frontline's<\/em> \"The Merchants of Cool<\/a>\" and \"Digital Nation.<\/a>\"","episode":34,"date":"2012-11-19 14:18:28","slug":"episode-34-douglas-rushkoff","links":["Collapse","Community","Economy","Education","Environment","Media","Mythology","Sci\/Tech","Time","Collectivist","Dualist","Localized","Subjectivist"]},
        {"type":"ditem","name":"Chuck Collins","description":"Chuck Collins<\/a> directs the Institute of Policy Studies<\/a> Program on Inequality and the Common Good<\/a>. He is the co-founder of United for a Fair Economy<\/a> and Wealth for the Common Good<\/a>, a network of wealthy individuals who embrace fair taxation to support the public good.","episode":35,"date":"2012-12-05 20:56:14","slug":"episode-35-chuck-collins","links":["Collapse","Community","Economy","Environment","Equality","Government","Happiness","Health","Spirituality","Collectivist","Dualist","Localized","Subjectivist"]},
        {"type":"ditem","name":"Ethan Zuckerman","description":"Ethan Zuckerman<\/a> is the Director of MIT's Center for Civic Media<\/a>, a former fellow at Harvard's Berkman Center<\/a>, and co-founder of Global Voices<\/a>, a hub for international news bloggers.","episode":36,"date":"2012-12-13 18:08:06","slug":"episode-36-ethan-zuckerman","links":["Community","Education","Environment","Government","Health","Media","Mythology","Sci\/Tech","Centralized","Physicalist"]},{"type":"episode","name":"David Keith","description":"David Keith<\/a> is a Harvard professor of Applied Physics and Public Policy. He has spent over two decades researching climate science and geoengineering, was named a Hero of the Environment<\/a> by TIME in 2009, and is the President of a company dedicated to reducing atmospheric CO2<\/a>.","episode":37,"date":"2012-12-20 17:10:52","slug":"episode-37-david-keith","links":["Environment","Government","Sci\/Tech","Spirituality","Biocentric","Centralized","Intrinsic","Objectivist","Physicalist"]},
        {"type":"ditem","name":"Alexa Clay","description":"Alexa Clay<\/a> is an author, economic historian, and director of thought leadership at Ashoka Changemakers<\/a>. She is co-author of The Misfit Economy<\/em><\/a>, a forthcoming book that looks for economic innovation amongst pirates, hackers, and gangs.","episode":38,"date":"2013-01-01 14:03:43","slug":"episode-38-alexa-clay","links":["Economy","Happiness","Localized","Subjectivist"]},
        {"type":"ditem","name":"Richard Saul Wurman","description":"Richard Saul Wurman<\/a> is a designer, architect, author of over 80 books, and founder of several conferences including TED<\/a>, WWW<\/a>, and EG<\/a>.","episode":39,"date":"2013-01-09 18:32:18","slug":"episode-39-richard-saul-wurman","links":["Happiness","Media","Mythology","Anthropocentric","Extrinsic","Individualist","Subjectivist"]},{"type":"episode","name":"Mary Mattingly","description":"Mary Mattingly<\/a> is an artist whose work explores the environment, sustainability, community, and survival in an unstable world. Recently, she has brought these themes together with the Flockhouse Project<\/a> and the Waterpod<\/a>.","episode":40,"date":"2013-01-17 16:45:14","slug":"episode-40-mary-mattingly","links":["Art","Collapse","Community","Economy","Environment","Anthropocentric","Localized","Physicalist"]},
        {"type":"ditem","name":"John Fullerton","description":"John Fullerton<\/a> is the founder of the Capital Institute<\/a>, a group dedicated to rethinking the future of finance. Prior to his work at the Capital Institute, he was the Managing Director of JPMorgan.","episode":41,"date":"2013-01-27 12:59:56","slug":"episode-41-john-fullerton","links":["Collapse","Economy","Environment","Mythology","Sci\/Tech","Biocentric","Collectivist","Free Will","Localized","Objectivist"]},
        {"type":"ditem","name":"Gary Francione","description":"","episode":42,"date":"2013-02-15 11:31:04","slug":"episode-42-gary-francione","links":["Community","Economy","Environment","Gender","Health","Law","Spirituality","Biocentric","Centralized","Collectivist","Dualist","Free Will","Intrinsic"]},
        {"type":"ditem","name":"Roberta Francis","description":"","episode":43,"date":"2013-02-20 17:43:58","slug":"episode-43-roberta-francis","links":["Economy","Equality","Gender","Law","Centralized","Free Will","Intrinsic"]},
        {"type":"ditem","name":"John Seager","description":"","episode":44,"date":"2013-02-27 11:43:48","slug":"episode-44-john-seager","links":["Education","Environment","Equality","Gender","Health","Population","Free Will","Intrinsic","Localized"]},
        {"type":"ditem","name":"James Bamford","description":"","episode":45,"date":"2013-03-07 22:18:00","slug":"episode-45-james-bamford","links":["Government","Law","Sci\/Tech","Centralized","Free Will","Individualist","Intrinsic"]},{"type":"episode","name":"Mark Mykleby","description":"","episode":46,"date":"2013-03-21 10:31:50","slug":"episode-46-mark-mykleby","links":["Community","Economy","Education","Environment","Government","Happiness","Health","Mythology","Population","Sci\/Tech","Anthropocentric","Free Will","Objectivist"]},{"type":"episode","name":"Oliver Porter","description":"","episode":47,"date":"2013-04-03 13:18:40","slug":"episode-47-oliver-porter","links":["Community","Economy","Equality","Government","Happiness","Race","Anthropocentric","Free Will","Individualist","Localized","Objectivist"]},
        {"type":"ditem","name":"Chris Carter","description":"","episode":48,"date":"2013-04-17 21:55:47","slug":"episode-48-chris-carter","links":["Collapse","Education","Population","Sci\/Tech","Determinism","Localized"]},{"type":"episode","name":"Scott Douglas","description":"","episode":49,"date":"2013-05-06 14:57:35","slug":"episode-49-scott-douglas","links":["Class","Community","Economy","Education","Equality","Gender","Law","Race","Spirituality","Time","Anthropocentric","Collectivist","Dualist","Free Will"]},
        {"type":"ditem","name":"Phyllis Tickle","description":"","episode":51,"date":"2013-05-28 17:21:02","slug":"episode-51-phyllis-tickle","links":["Class","Collapse","Community","Economy","Mythology","Sci\/Tech","Spirituality","Time","Collectivist","Dualist","Intrinsic","Localized"]},
        {"type":"ditem","name":"Walter Block","description":"","episode":52,"date":"2013-07-05 20:30:57","slug":"episode-52-walter-block","links":["Economy","Environment","Government","Population","Sci\/Tech","Anthropocentric","Extrinsic","Free Will","Individualist","Localized","Physicalist"]},{"type":"episode","name":"Carlos Perez de Alejo","description":"","episode":53,"date":"2013-07-16 12:12:01","slug":"episode-53-carlos-perez-de-alejo","links":["Class","Economy","Environment","Equality","Collectivist","Free Will"]},{"type":"episode","name":"Charles Bowden","description":"","episode":54,"date":"2013-07-28 00:04:13","slug":"episode-54-charles-bowden","links":["Agriculture","Collapse","Community","Economy","Environment","Happiness","Population","Race","Sci\/Tech","Spirituality","Time","Biocentric","Free Will","Intrinsic","Physicalist"]},
        {"type":"ditem","name":"Ed Finn","description":"","episode":55,"date":"2013-08-23 17:22:11","slug":"episode-55-ed-finn","links":["Community","Education","Happiness","Media","Mythology","Sci\/Tech","Time","Collectivist","Free Will","Subjectivist"]},
        {"type":"ditem","name":"Joan Blades","description":"","episode":57,"date":"2014-06-04 16:32:47","slug":"episode-57-joan-blades","links":["Community","Environment","Government","Media","Free Will","Localized"]},{"type":"episode","name":"Jason Kelly Johnson","description":"","episode":58,"date":"2016-01-25 21:58:24","slug":"episode-58-jason-kelly-johnson","links":["Agriculture","Art","Environment","Sci\/Tech","Free Will","Localized","Psychological Continuity"]},
        {"type":"ditem","name":"Charles Hugh Smith","description":"","episode":59,"date":"2016-01-27 17:24:35","slug":"episode-59-charles-hugh-smith","links":["Agriculture","Collapse","Community","Economy","Education","Population","Sci\/Tech","Collectivist","Localized"]},
        {"type":"ditem","name":"George Lakoff","description":"","episode":60,"date":"2016-01-28 21:05:56","slug":"episode-60-george-lakoff","links":["Education","Environment","Government","Spirituality","Free Will","Objectivist","Physicalist"]},
        {"type":"ditem","name":"Rainey Reitman","description":"","episode":61,"date":"2016-02-01 19:11:32","slug":"episode-61-rainey-reitman","links":["Government","Law","Sci\/Tech","Free Will"]},
        {"type":"ditem","name":"Rebecca Costa","description":"","episode":62,"date":"2016-02-04 18:19:06","slug":"episode-62-rebecca-costa","links":["Collapse","Economy","Education","Environment","Population","Sci\/Tech","Free Will","Individualist","Objectivist","Physicalist"]},{"type":"episode","name":"Kim Stanley Robinson","description":"","episode":63,"date":"2016-02-11 13:37:28","slug":"episode-63-kim-stanley-robinson","links":["Class","Community","Economy","Environment","Equality","Government","Happiness","Health","Population","Sci\/Tech","Anthropocentric","Free Will"]},{"type":"episode","name":"Peter Gleick","description":"","episode":64,"date":"2016-02-13 09:32:36","slug":"episode-64-peter-gleick","links":["Agriculture","Collapse","Environment","Law","Population","Sci\/Tech","Objectivist","Physicalist"]},
        {"type":"ditem","name":"Rebecca Solnit","description":"","episode":65,"date":"2016-05-03 10:36:59","slug":"episode-65-rebecca-solnit","links":["Collapse","Community","Economy","Environment","Government","Sci\/Tech","Time","Free Will","Localized"]},{"type":"episode","name":"Lisa Gray-Garcia","description":"","episode":66,"date":"2016-05-12 14:30:02","slug":"episode-66-lisa-gray-garcia","links":["Class","Community","Economy","Education","Law","Race","Collectivist","Free Will","Localized"]}
    ],
    "themes":[
        {"type":"theme","name":"Agriculture","description":"","slug":"agriculture-2"},
        {"type":"theme","name":"Art","description":"","slug":"art-2"},
        {"type":"theme","name":"Class","description":"","slug":"class-2"},
        {"type":"theme","name":"Collapse","description":"","slug":"collapse-2"},
        {"type":"theme","name":"Community","description":"","slug":"community-2"},
        {"type":"theme","name":"Economy","description":"","slug":"economy-2"},
        {"type":"theme","name":"Education","description":"","slug":"education-2"},
        {"type":"theme","name":"Environment","description":"","slug":"environment-2"},
        {"type":"theme","name":"Equality","description":"","slug":"equality-2"},
        {"type":"theme","name":"Gender","description":"","slug":"gender"},
        {"type":"theme","name":"Government","description":"","slug":"government-2"},
        {"type":"theme","name":"Happiness","description":"","slug":"happiness-2"},
        {"type":"theme","name":"Health","description":"","slug":"health"},
        {"type":"theme","name":"Law","description":"","slug":"law-2"},
        {"type":"theme","name":"Media","description":"","slug":"media-2"},
        {"type":"theme","name":"Mythology","description":"","slug":"mythology"},
        {"type":"theme","name":"Population","description":"","slug":"population-2"},
        {"type":"theme","name":"Race","description":"","slug":"race-2"},
        {"type":"theme","name":"Sci\/Tech","description":"","slug":"scitech"},
        {"type":"theme","name":"Spirituality","description":"","slug":"spirituality-2"},
        {"type":"theme","name":"Time","description":"","slug":"time-2"}
    ],
    "perspectives":[
        {"type":"perspective","name":"Anthropocentric","description":"To varying degrees, these conversations treat human life as having greater moral weight<\/a> than other life. Antonym: biocentric<\/a>.","slug":"anthropocentric-value-source","count":27,"group":281},
        {"type":"perspective","name":"Biocentric","description":"To varying degrees, these conversations treat human life as having similar or equal moral weight<\/a> to other life. We are also including broader-than-life value sources like ecocentrism<\/a> in this category. Antonym: anthropocentric<\/a>.","slug":"biocentric-value-source","count":10,"group":281},
        {"type":"perspective","name":"Collectivist","description":"Every society attempts to balance individual freedom with collective good. These episodes feature conversations that suggest we have slid too far towards individualism and need to move towards the group. Antonym: individualist<\/a>.","slug":"collectivist","count":23,"group":284},
        {"type":"perspective","name":"Individualist","description":"Every society attempts to balance personal freedom with collective good. These episodes feature conversations that suggest we have slid too far towards collectivism and need to push towards individualism. Antonym: collectivist<\/a>.","slug":"individualist","count":10,"group":284},
        {"type":"perspective","name":"Localized","description":"These episodes feature interviewees who feel the problems they are discussing can be better addressed through localized systems than centralized ones. Antonym: centralized<\/a>.","slug":"localized","count":26,"group":287},
        {"type":"perspective","name":"Centralized","description":"These episodes feature interviewees who feel the problems they are discussing can be better addressed through centralized systems than localized ones. Antonym: localized<\/a>.","slug":"centralized","count":11,"group":287},
        {"type":"perspective","name":"Dualist","description":"These conversations contain suggestions that reality is composed of more than physical material<\/a>, whether mind, soul, spirit, etc. Antonym: physicalist<\/a>.","slug":"dualist","count":17,"group":290},
        {"type":"perspective","name":"Physicalist","description":"These conversations contain suggestions that reality is composed entirely of physical elements<\/a>, typically (but not inherently) knowable and measurable. Antonym: dualist<\/a>.","slug":"physicalist-2","count":18,"group":290},
        {"type":"perspective","name":"Subjectivist","description":"These conversations include a diverse array of thinkers who seem to suggest that each person experiences an independent reality<\/a> and that an external, objective reality is either unknowable or nonexistent. Antonym: objectivist<\/a>.","slug":"subjectivist","count":16,"group":306},
        {"type":"perspective","name":"Objectivist","description":"These conversations include a diverse array of thinkers who seem to suggest that there is an ultimately knowable reality<\/a> unaffected by our perception. Antonym: subjectivist<\/a>.","slug":"objectivist","count":20,"group":306},
        {"type":"perspective","name":"Determinism","description":"Episodes in this category include perspectives ranging from strict determinism<\/a> to determinism tempered by free will. Determinism is a broad category and includes the sense that human actions are largely shaped by the environment<\/a>, technology<\/a>, a divine plan, etc. Antonym: free will<\/a>.","slug":"determinism","count":3,"group":1259},
        {"type":"perspective","name":"Free Will","description":"Episodes in this category include lean towards attributing human behavior to free will<\/a>. Human agency may be influenced by larger systems (environmental, technological, atomic, divine), but it is not a prisoner to them. Antonym: determinism<\/a>.","slug":"free-will","count":32,"group":1259},
        {"type":"perspective","name":"Biological Continuity","description":"Personal identity over time stems from physical continuity<\/a>. Antonym: psychological continuity<\/a>.","slug":"biology-personal-identity","count":6,"group":1261},
        {"type":"perspective","name":"Psychological Continuity","description":"Personal identity over time stems from psychological continuity<\/a>. Antonym: biological continuity<\/a>.","slug":"psychology-personal-identity","count":5,"group":1261},
        {"type":"perspective","name":"Intrinsic","description":"Value is intrinsic to things, whether people, animals, or inanimate objects. Antonym: extrinsic<\/a>.","slug":"intrinsic","count":12,"group":1265},
        {"type":"perspective","name":"Extrinsic","description":"Value is assigned to by humans to non-human things, whether animals, plants, or inanimate objects. Antonym: intrinsic<\/a>.","slug":"extrinsic","count":8,"group":1265}
    ]
    }

    var gameList = [
        'AXE','FIFA온라인4','LYN','마비노기','마비노기영웅전','메이플스토리','메이플스토리2','메이플스토리M',
        '바람의나라','버블파이터','서든어택','오버히트','카운터스트라이크온라인','카운터스트라이크온라인2','카트라이더','크레이지아케이드비엔비','테일즈위버'
    ]
    
    var flaredata1 = {};
    flaredata1.ditems = [];
    gameList.forEach(function(entry, i){        
        var item = {}
        item.type = 'ditem';
        item.name = entry;
        item.description = entry;
        item.ditem = i;        
        item.slug = i;
        item.links = [];
        var arr = typeInGameList.filter(function(el){return el.gameName === entry});
        arr.forEach(function(el){
            item.links.push(el.typeName)
        })
        flaredata1.ditems.push(item)
    })

    flaredata1.themes = []
    typeList.forEach(function(entry,i){
        //{"type":"theme","name":"Agriculture","description":"","slug":"agriculture-2"},
        var item = {}
        item.type = 'theme';
        item.name = entry.typeName;
        item.description = entry.typeDesc;
        item.slug = entry.typeName + '-' + i;
        flaredata1.themes.push(item);
    })



$(function () {
            plotConceptMap();
        });
        function plotConceptMap() {
            var plot = ConceptMap("graph", "graph-info", flaredata1);
        }
//ConceptMap.js
  function ConceptMap (chartElementId, infoElementId, dataJson) {

    var width = document.body.clientWidth; //window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
    var height = window.innerHeight - 400; // window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
    var a = width,
        c = height,
        h = c,
        U = 200,
        K = 22,
        S = 20,
        s = 8,
        R = -30, // Radius for node circle 110
        J = 30,
        o = 15,
        t = 10,
        w = 1000,
        F = "elastic",
        N = "#0da4d3";
    var T, q, x, j, H, A, P;
    var L = {},
        k = {};
    var i, y;
    var r = d3.layout.tree().size([360, h / 2 - R]).separation(function (Y, X) {
        return (Y.parent == X.parent ? 1 : 2) / Y.depth
    });
    var W = d3.svg.diagonal.radial().projection(function (X) {
        return [X.y, X.x / 180 * Math.PI]
    });
    var v = d3.svg.line().x(function (X) {
        return X[0]
    }).y(function (X) {
        return X[1]
    }).interpolate("bundle").tension(0.5);
    //Node name at Footer
    var Nh = (c / 2) + 100;
    var svgHeight = c + 250;
    var d = d3.select("#" + chartElementId).append("svg").attr("width", a).attr("height", svgHeight).append("g").attr("transform", "translate(" + a / 2 + "," + Nh + ")");
    var I = d.append("rect").attr("class", "bg").attr({
        x: a / -2,
        y: c / -2,
        width: a,
        height: c,
        fill: "transparent"
    }).on("click", O);
    var B = d.append("g").attr("class", "links"),
        f = d.append("g").attr("class", "ditems"),
        E = d.append("g").attr("class", "nodes");

    var Q = d3.select("#" + infoElementId);

    T = d3.map(dataJson);
    q = d3.merge(T.values());
    x = {};
    A = d3.map();

    /**********************/
    var outerId = [0];
    /**********************/

    q.forEach(function (aa) {
        aa.key = p(aa.name);
        aa.canonicalKey = aa.key;
        x[aa.key] = aa;

        if (aa.group) {
            if (!A.has(aa.group)) {
                A.set(aa.group, [])
            }
            A.get(aa.group).push(aa);
        }
    });

    /***********Used for Node color on mouse over=Start**********/
    j = d3.map();

    T.get("ditems").forEach(function (aa) {
        aa.links = aa.links.filter(function (ab) {
            return typeof x[p(ab)] !== "undefined" //&& ab.indexOf("r-") !== 0
        });

        j.set(aa.key, aa.links.map(function (ab) {
            var ac = p(ab);
            if (typeof j.get(ac) === "undefined") {
                j.set(ac, [])
            }
            j.get(ac).push(aa);
            return x[ac];
        }));
    });
    /*********Used for Node color on mouse over- End***********/
    var Z = window.location.hash.substring(1);
    if (Z && x[Z]) {
        G(x[Z]);
    } else {
        O();
        M();
    }

    window.onhashchange = function () {
        var aa = window.location.hash.substring(1);
        if (aa && x[aa]) {
            G(x[aa], true)
        }
    };

    function O() {                
        if (L.node === null) {
            return
        }
        L = {
            node: null,
            map: {}
        };
        i = Math.floor(c / T.get("ditems").length);
        y = Math.floor(T.get("ditems").length * i / 2);
        T.get("ditems").forEach(function (af, ae) {
            af.x = U / -2;
            af.y = ae * i - y
        });
        //Half circular nodes var ad = 180 + J,
        // Full Circular nodes var ad = 0 + J,
        var ad = 0 + J,
        // Z = 360 - J,
             Z = 360 - J,
            ac = (Z - ad) / (T.get("themes").length - 1);
        T.get("themes").forEach(function (af, ae) {
            /*Node with rectangle= start*/
            af.x = Z - ae * ac;
            af.y = h / 2 - R;
            //            af.xOffset = -S;
            
            if(af.x>180)
            {
              af.xOffset = -S;
            }else
            {
              af.xOffset = S;
            }

            af.depth = 1
            /*Node with rectange= End*/
        });
        //  ad = J;
        //  Z = 180 - J;
        //        ac = (Z - ad) / (T.get("perspectives").length - 1);
        //        T.get("perspectives").forEach(function (af, ae) {
        //            af.x = ae * ac + ad;
        //            af.y = h / 2 - R;
        //            af.xOffset = S;
        //            af.depth = 1
        //        });
        // New Code

        H = [];
        var ab, Y, aa, X = h / 2 - R;
        T.get("ditems").forEach(function (ae) {
            ae.links.forEach(function (af) {
                ab = x[p(af)];
                if (!ab || ab.type === "reference") {
                    return
                }
                Y = (ab.x - 90) * Math.PI / 180;
                aa = ae.key + "-to-" + ab.key;
                if (ab.x > 180) {
                    H.push({
                        source: ae,
                        target: ab,
                        key: aa,
                        canonicalKey: aa,
                        x1: ae.x + (ab.type === "theme" ? 0 : U),
                        y1: ae.y + K / 2,
                        x2: Math.cos(Y) * X + ab.xOffset,
                        y2: Math.sin(Y) * X
                    })
                }
                else if (ae.x < 180) {
                    H.push({
                        source: ae,
                        target: ab,
                        key: aa,
                        canonicalKey: aa,
                        x1: ae.x + (ab.type === "theme" ? U : 0),
                        y1: ae.y + K / 2,
                        x2: Math.cos(Y) * X + ab.xOffset,
                        y2: Math.sin(Y) * X
                    })
                }
            })
        });
        P = [];
        A.forEach(function (af, ag) {
            var ae = (ag[0].x - 90) * Math.PI / 180;
            //a2 = (ag[1].x - 90) * Math.PI / 180, bulge = 20;
            P.push({
                 x1: Math.cos(ae) * X + ag[0].xOffset,
               
                y1: Math.sin(ae) * X//,
                //xx: Math.cos((ae + a2) / 2) * (X + bulge) + ag[0].xOffset,
                // yy: Math.sin((ae + a2) / 2) * (X + bulge),
                // x2: Math.cos(a2) * X + ag[1].xOffset,
                //  y2: Math.sin(a2) * X
            })
        });
        window.location.hash = "";
        M()
    }

    function G(Y, X) {                
        if (L.node === Y && X !== true) {
            if (Y.type === "ditem") {
                //window.open(Y.slug, '_blank')
                //window.location.href = "/" + Y.slug;
                return
            }
            L.node.children.forEach(function (aa) {
                aa.children = aa._group
            });
            e();
            return
        }
        if (Y.isGroup) {
            L.node.children.forEach(function (aa) {
                aa.children = aa._group
            });
            Y.parent.children = Y.parent._children;
            e();
            return
        }
        Y = x[Y.canonicalKey];
        q.forEach(function (aa) {
            aa.parent = null;
            aa.children = [];
            aa._children = [];
            aa._group = [];
            aa.canonicalKey = aa.key;
            aa.xOffset = 0
        });
        L.node = Y;
        L.node.children = j.get(Y.canonicalKey);
        L.map = {};
        var Z = 0;
        L.node.children.forEach(function (ac) {
            L.map[ac.key] = true;
            ac._children = j.get(ac.key).filter(function (ad) {
                return ad.canonicalKey !== Y.canonicalKey
            });
            ac._children = JSON.parse(JSON.stringify(ac._children));
            ac._children.forEach(function (ad) {
                ad.canonicalKey = ad.key;
                ad.key = ac.key + "-" + ad.key;
                L.map[ad.key] = true
            });
            var aa = ac.key + "-group",
                ab = ac._children.length;
            ac._group = [{
                isGroup: true,
                key: aa + "-group-key",
                canonicalKey: aa,
                name: ab,
                count: ab,
                xOffset: 0
            }];
            L.map[aa] = true;
            Z += ab
        });
        L.node.children.forEach(function (aa) {
            aa.children = Z > 50 ? aa._group : aa._children
        });
        window.location.hash = L.node.key;
        e()
    }

    function n() {
        k = {
            node: null,
            map: {}
        };
        z()
    }

    function g(X) {        
        if (k.node === X) {
            return
        }
        k.node = X;
        k.map = {};
        k.map[X.key] = true;
        if (X.key !== X.canonicalKey) {
            k.map[X.parent.canonicalKey] = true;
            k.map[X.parent.canonicalKey + "-to-" + X.canonicalKey] = true;
            k.map[X.canonicalKey + "-to-" + X.parent.canonicalKey] = true
        } else {
            j.get(X.canonicalKey).forEach(function (Y) {
                k.map[Y.canonicalKey] = true;
                k.map[X.canonicalKey + "-" + Y.canonicalKey] = true
            });
            H.forEach(function (Y) {
                if (k.map[Y.source.canonicalKey] && k.map[Y.target.canonicalKey]) {
                    k.map[Y.canonicalKey] = true
                }
            })
        }
        z()
    }

    function M() {
        V();
        B.selectAll("path").attr("d", function (X) {
            return v([
                [X.x1, X.y1],
                [X.x1, X.y1],
                [X.x1, X.y1]
            ])
        }).transition().duration(w).ease(F).attr("d", function (X) {
            return v([
                [X.x1, X.y1],
                [X.target.xOffset * s, 0],
                [X.x2, X.y2]
            ])
        });
        D(T.get("ditems"));
        //        b(d3.merge([T.get("themes"), T.get("perspectives")]));
        b(T.get("themes"));
        C([]);
        m(P);
        Q.html('');
        n();
        z()
    }

    function e() {
        var X = r.nodes(L.node);
        X.forEach(function (Z) {
            if (Z.depth === 1) {
                Z.y -= 20
            }
        });
        H = r.links(X);
        H.forEach(function (Z) {
            if (Z.source.type === "ditem") {
                Z.key = Z.source.canonicalKey + "-to-" + Z.target.canonicalKey
            } else {
                Z.key = Z.target.canonicalKey + "-to-" + Z.source.canonicalKey
            }
            Z.canonicalKey = Z.key
        });
        V();
        B.selectAll("path").transition().duration(w).ease(F).attr("d", W);
        D([]);
        b(X);
        C([L.node]);
        m([]);
        var Y = "";
        if (L.node.description) {
            Y = L.node.description
        }
        // Node Click Start
        if (L.node.name) {
            
            //BindGridView(L.node.name);
        }
        // Node Click End
        Q.html(Y);
        n();
        z()
    }

    function b(X) {
        var X = E.selectAll(".node").data(X, u);
        var Y = X.enter().append("g").attr("transform", function (aa) {
            var Z = aa.parent ? aa.parent : {
                xOffset: 0,
                x: 0,
                y: 0
            };
            return "translate(" + Z.xOffset + ",0)rotate(" + (Z.x - 90) + ")translate(" + Z.y + ")"
        }).attr("class", "node").on("mouseover", g).on("mouseout", n).on("click", G);
        Y.append("circle").attr("r", 0);
        Y.append("text").attr("stroke", "#fff").attr("stroke-width", 4).attr("class", "label-stroke");
        Y.append("text").attr("font-size", 0).attr("class", "label");
        X.transition().duration(w).ease(F).attr("transform", function (Z) {
            if (Z === L.node) {
                return null
            }
            var aa = Z.isGroup ? Z.y + (7 + Z.count) : Z.y;
            return "translate(" + Z.xOffset + ",0)rotate(" + (Z.x - 90) + ")translate(" + aa + ")"
        });
        X.selectAll("circle").transition().duration(w).ease(F).attr("r", function (Z) {
            if (Z == L.node) {
                return 100
            } else {
                if (Z.isGroup) {
                    return 7 + Z.count
                } else {
                    return 4.5
                }
            }
        });
        X.selectAll("text").transition().duration(w).ease(F).attr("dy", ".3em").attr("font-size", function (Z) {
            if (Z.depth === 0) {
                return 20
            } else {
                return 10
            }
        }).text(function (Z) {
            return Z.name
        }).attr("text-anchor", function (Z) {
            if (Z === L.node || Z.isGroup) {
                return "middle"
            }
            return Z.x < 180 ? "start" : "end"
        }).attr("transform", function (Z) {
            if (Z === L.node) {
                return null
            } else {
                if (Z.isGroup) {
                    return Z.x > 180 ? "rotate(180)" : null
                }
            }
            return Z.x < 180 ? "translate(" + t + ")" : "rotate(180)translate(-" + t + ")"
        });
        X.selectAll("text.label-stroke").attr("display", function (Z) {
            return Z.depth === 1 ? "block" : "none"
        });
        X.exit().remove()
    }

    function V() {        
        var X = B.selectAll("path").data(H, u);
        X.enter().append("path").attr("d", function (Z) {
            var Y = Z.source ? {
                x: Z.source.x,
                y: Z.source.y
            } : {
                x: 0,
                y: 0
            };
            return W({
                source: Y,
                target: Y
            })
        }).attr("class", "link");
        X.exit().remove()
    }

    function C(Z) {
        var ac = d.selectAll(".detail").data(Z, u);
        var Y = ac.enter().append("g").attr("class", "detail");
        var ab = Z[0];
        if (ab && ab.type === "ditem") {
            var aa = Y.append("a").attr("xlink:href", function (ae) {
                return "/" + ae.slug
            });
            aa.append("text").attr("fill", N).attr("text-anchor", "middle").attr("y", (o + t) * -1).text(function (ae) {
                //return "Game명 " + ae.ditem
                return "GAME"
            })
        } else {
            if (ab && ab.type === "theme") {
                Y.append("text").attr("fill", "#aaa").attr("text-anchor", "middle").attr("y", (o + t) * -1).text("TYPE")
            } else {
                //                if (ab && ab.type === "perspective") {
                //                    var ad = ac.selectAll(".pair").data(A.get(ab.group).filter(function (ae) {
                //                        return ae !== ab
                //                    }), u);
                //                    ad.enter().append("text").attr("fill", "#aaa").attr("text-anchor", "middle").attr("y", function (af, ae) {
                //                        return (o + t) * 2 + (ae * (o + t))
                //                    }).text(function (ae) {
                //                        return "(vs. " + ae.name + ")"
                //                    }).attr("class", "pair").on("click", G);
                //                    Y.append("text").attr("fill", "#aaa").attr("text-anchor", "middle").attr("y", (o + t) * -1).text("PERSPECTIVE");
                //                    ad.exit().remove()
                //                }
                // New code


            }
        }
        ac.exit().remove();
        var X = d.selectAll(".all-ditems").data(Z);
        X.enter().append("text").attr("text-anchor", "start").attr("x", a / -2 + t).attr("y", c / 2 - t).text("all data").attr("class", "all-ditems").on("click", O);
        X.exit().remove()
    }

    function D(Y) {
        var Y = f.selectAll(".ditem").data(Y, u);
        var X = Y.enter().append("g").attr("class", "ditem").on("mouseover", g).on("mouseout", n).on("click", G);
        X.append("rect").attr("x", U / -2).attr("y", K / -2).attr("width", U).attr("height", K).transition().duration(w).ease(F).attr("x", function (Z) {
            return Z.x
        }).attr("y", function (Z) {
            return Z.y
        });
        X.append("text").attr("x", function (Z) {
            return U / -2 + t
        }).attr("y", function (Z) {
            return K / -2 + o
        }).attr("fill", "#fff").text(function (Z) {
            // Remove / from Text
            var n = Z.name.lastIndexOf('/');
            var PageName = Z.name.substring(n + 1);
            return PageName
            //return Z.name
        }).transition().duration(w).ease(F).attr("x", function (Z) {
            return Z.x + t
        }).attr("y", function (Z) {
            return Z.y + o
        });
        Y.exit().selectAll("rect").transition().duration(w).ease(F).attr("x", function (Z) {
            return U / -2
        }).attr("y", function (Z) {
            return K / -2
        });
        Y.exit().selectAll("text").transition().duration(w).ease(F).attr("x", function (Z) {
            return U / -2 + t
        }).attr("y", function (Z) {
            return K / -2 + o
        });
        Y.exit().transition().duration(w).remove()
    }

    function m(Y) {
        var X = f.selectAll("path").data(Y);
        X.enter().append("path").attr("d", function (Z) {
            return v([
                [Z.x1, Z.y1],
                [Z.x1, Z.y1],
                [Z.x1, Z.y1]
            ])
        }).attr("stroke", "#000").attr("stroke-width", 1.5).transition().duration(w).ease(F).attr("d", function (Z) {
            return v([
                [Z.x1, Z.y1],
                [Z.xx, Z.yy],
                [Z.x2, Z.y2]
            ])
        });
        X.exit().remove()
    }

    function z() {
        f.selectAll("rect").attr("fill", function (X) {
            return l(X, "#000", N, "#000")
        });
        B.selectAll("path").attr("stroke", function (X) {
            return l(X, "#aaa", N, "#aaa")
        }).attr("stroke-width", function (X) {
            return l(X, "1.5px", "2.5px", "1px")
        }).attr("opacity", function (X) {
            return l(X, 0.4, 0.75, 0.3)
        }).sort(function (Y, X) {
            if (!k.node) {
                return 0
            }
            var aa = k.map[Y.canonicalKey] ? 1 : 0,
                Z = k.map[X.canonicalKey] ? 1 : 0;
            return aa - Z
        });
        E.selectAll("circle").attr("fill", function (X) {
            if (X === L.node) {
                return "#000"
            } else {
                if (X.type === "theme") {
                    return l(X, "#666", N, "#000")
                } //else {
                //                    if (X.type === "perspective") {
                //                        return "#fff"
                //                    }
                // }
                // New code

            }
            return l(X, "#000", N, "#999")
        }).attr("stroke", function (X) {
            if (X === L.node) {
                return l(X, null, N, null)
            } else {
                if (X.type === "theme") {
                    return "#000"
                } else {
                    //                    if (X.type === "perspective") {
                    //                        return l(X, "#000", N, "#000")
                    //                    }

                }
            }
            return null
        }).attr("stroke-width", function (X) {
            if (X === L.node) {
                return l(X, null, 2.5, null)
            } else {
                //                if (X.type === "theme" || X.type === "perspective") {
                //                    return 1.5
                //                }
                if (X.type === "theme") {
                    return 1.5
                }
            }
            return null
        });
        E.selectAll("text.label").attr("fill", function (X) {
            return (X === L.node || X.isGroup) ? "#fff" : l(X, "#000", N, "#999")
        })
    }

    function p(X) {
        return X.toLowerCase().replace(/[ .,()]/g, "-")
    }

    function u(X) {
        return X.key
    }

    function l(X, aa, Z, Y) {
        if (k.node === null) {
            return aa
        }
        return k.map[X.key] ? Z : aa
    }
};

//Package.js

(function() {
  packages = {

    // Lazily construct the package hierarchy from class names.
    root: function(classes) {
      var map = {};

      function find(name, data) {
        var node = map[name], i;
        if (!node) {
          node = map[name] = data || {name: name, children: []};
          if (name.length) {
            node.parent = find(name.substring(0, i = name.lastIndexOf(".")));
            node.parent.children.push(node);
            node.key = name.substring(i + 1);
          }
        }
        return node;
      }

      classes.forEach(function(d) {
        find(d.name, d);
      });

      return map[""];
    },

    // Return a list of imports for the given array of nodes.
    imports: function(nodes) {
      var map = {},
          imports = [];

      // Compute a map from name to node.
      nodes.forEach(function(d) {
        map[d.name] = d;
      });

      // For each import, construct a link from the source to target node.
      nodes.forEach(function(d) {
        if (d.imports) d.imports.forEach(function(i) {
          imports.push({source: map[d.name], target: map[i]});
        });
      });

      return imports;
    }

  };
})();
